{"version":3,"sources":["js/variables.js","js/showsGenres.js","js/TVShowsSearch.js"],"names":["apiKey","searchForm","document","getElementById","inputSearch","moviesList","previous","next","pagination","trending","trending2","spinner","genres","id","name","fetch","then","data","json","res","topRMovies","results","output","map","movie","genreOutput","filter","genre","genre_ids","join","poster_path","first_air_date","split","setTimeout","$","slick","slidesToShow","lazyLoad","slidesToScroll","infinite","nextArrow","focusOnSelect","prevArrow","responsive","breakpoint","settings","variables","innerHTML","addEventListener","e","preventDefault","getMovies","target","value","previousDisabled","page","length","disabled","classList","add","remove","style","display","resp","totalPages","nextDisabled","total_pages","console","log","movies","descp","overview","splice","vote_average","visibility","window","scrollTo"],"mappings":"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","file":"TVShowsSearch.d5b1f50f.js","sourceRoot":"..\\src","sourcesContent":["export const apiKey = 'ce2eb2231a371296cf6ff11a39206d6e';\r\nexport const searchForm = document.getElementById('searchForm');\r\nexport const inputSearch = document.getElementById('inputSearch');\r\nexport const moviesList = document.getElementById('moviesList');\r\nexport const previous = document.getElementById('previous');\r\nexport const next = document.getElementById('next');\r\nexport const pagination = document.getElementById('pagination-container');\r\nexport const trending = document.getElementById('trending-movies');\r\nexport const trending2 = document.getElementById('trending-shows');\r\nexport const spinner = `\r\n    <div class=\"mb-5 spinner-border text-light\" style=\"width: 3rem; height: 3rem;\" role=\"status\">\r\n      <span class=\"sr-only\">Loading...</span>\r\n    </div>`;","\r\nexport const genres = [\r\n    {\r\n      id: 10759,\r\n      name: \"Action & Adventure\"\r\n    },\r\n    {\r\n      id: 16,\r\n      name: \"Animation\"\r\n    },\r\n    {\r\n      id: 35,\r\n      name: \"Comedy\"\r\n    },\r\n    {\r\n      id: 80,\r\n      name: \"Crime\"\r\n    },\r\n    {\r\n      id: 99,\r\n      name: \"Documentary\"\r\n    },\r\n    {\r\n      id: 18,\r\n      name: \"Drama\"\r\n    },\r\n    {\r\n      id: 10751,\r\n      name: \"Family\"\r\n    },\r\n    {\r\n      id: 10762,\r\n      name: \"Kids\"\r\n    },\r\n    {\r\n      id: 9648,\r\n      name: \"Mystery\"\r\n    },\r\n    {\r\n      id: 10763,\r\n      name: \"News\"\r\n    },\r\n    {\r\n      id: 10764,\r\n      name: \"Reality\"\r\n    },\r\n    {\r\n      id: 10765,\r\n      name: \"Sci-Fi & Fantasy\"\r\n    },\r\n    {\r\n      id: 10766,\r\n      name: \"Soap\"\r\n    },\r\n    {\r\n      id: 10767,\r\n      name: \"Talk\"\r\n    },\r\n    {\r\n      id: 10768,\r\n      name: \"War & Politics\"\r\n    },\r\n    {\r\n      id: 37,\r\n      name: \"Western\"\r\n    }\r\n  ]\r\n","import * as variables from './variables.js';\r\nimport { genres } from './showsGenres.js';\r\nimport '../css/index.css';\r\n\r\n\r\n(() => {\r\n\r\n  fetch('https://api.themoviedb.org/3/trending/tv/week?api_key=ce2eb2231a371296cf6ff11a39206d6e')\r\n    .then(data => data.json())\r\n    .then(res => {\r\n      let topRMovies = res.results;\r\n      let output = '';\r\n      let genresArray = '';\r\n      topRMovies.map(movie => {\r\n        genresArray = genres.filter(genre => {\r\n          if(genre.id === movie.genre_ids[0] || genre.id === movie.genre_ids[1] || genre.id === movie.genre_ids[2]){\r\n            return genre.id;\r\n          }\r\n        })\r\n        let genreOutput = genresArray.map(genre => genre.name).join(\", \");\r\n        output +=\r\n          `\r\n          <div class=\"mr-3 card\" style=\"width: 15rem; padding-bottom: 0;\">\r\n              <img class=\"card-img-top card-img\" src=\"https://image.tmdb.org/t/p/w500${movie.poster_path}\" alt=\"Card image cap\">\r\n              <div class=\"card-body\">\r\n                <h5 class=\"card-title card-movie-title\">${movie.name}</h5>\r\n                <p class=\"card-text card-details\">${movie.first_air_date.split(\"-\")[0]} | ${genreOutput}</p>\r\n              </div>\r\n          </div>\r\n          `\r\n      })\r\n      setTimeout(() => {\r\n        $('.slick-trending-shows').slick({\r\n          slidesToShow: 8,\r\n          lazyLoad: 'progressive',\r\n          slidesToScroll: 8,\r\n          infinite: false,\r\n          nextArrow: $('.nextTrendingShows'),\r\n          focusOnSelect: false,\r\n          prevArrow: $('.prevTrendingShows'),\r\n          responsive: [\r\n            {\r\n              breakpoint: 1300,\r\n              settings: {\r\n                slidesToShow: 5,\r\n                slidesToScroll: 5,\r\n              }\r\n            },\r\n            {\r\n              breakpoint: 1024,\r\n              settings: {\r\n                slidesToShow: 4,\r\n                slidesToScroll: 4,\r\n              }\r\n            },\r\n            {\r\n              breakpoint: 750,\r\n              settings: {\r\n                slidesToShow: 3,\r\n                slidesToScroll: 3,\r\n              }\r\n            },\r\n            {\r\n              breakpoint: 600,\r\n              settings: {\r\n                slidesToShow: 2,\r\n                slidesToScroll: 2\r\n              }\r\n            }\r\n          ]\r\n        });\r\n      }, 10)\r\n      setTimeout(() => {\r\n         variables.trending2.innerHTML = output;\r\n      }, 9)\r\n    })\r\n\r\n  variables.inputSearch.addEventListener('input', (e) => {\r\n    e.preventDefault();\r\n    getMovies(e.target.value, 1);\r\n  });\r\n\r\n  const previousDisabled = page => {\r\n    if(page == 1){\r\n      variables.previous.disabled = true;\r\n      variables.previous.classList.add('button-disabled');\r\n    } else {\r\n      variables.previous.disabled = false;\r\n      variables.previous.classList.remove('button-disabled');\r\n    }\r\n  }\r\n\r\n  const nextDisabled = (page, totalPages) => {\r\n    if(page === totalPages){\r\n      variables.next.disabled = true;\r\n      variables.next.classList.add('button-disabled');\r\n    } else {\r\n      variables.next.disabled = false;\r\n      variables.next.classList.remove('button-disabled');\r\n    }\r\n  }\r\n\r\n  const getMovies = (movie, page) => {\r\n    if(variables.inputSearch.value.length > 0){\r\n      variables.moviesList.innerHTML = variables.spinner;\r\n    }\r\n    previousDisabled(page);\r\n    if(movie.length > 0) {\r\n    document.getElementById('slider-shows-search').style.display = 'none';\r\n       fetch(\r\n        `https://api.themoviedb.org/3/search/tv?api_key=${variables.apiKey}&query=${movie}&page=${page}`\r\n      )\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n          nextDisabled(page, data.total_pages);\r\n          console.log(data);\r\n          let output = '';\r\n          let movies = data.results;\r\n          movies.map(movie => {\r\n            let descp;\r\n            if(movie.overview.length > 200){\r\n              descp = movie.overview.split(\" \").splice(0, 30).join(\" \") + '...';\r\n            } else if (movie.overview == \"\") {\r\n              descp = \"No description\";\r\n            } else {\r\n              descp = movie.overview;\r\n            }\r\n            if(movie.poster_path !== null) {\r\n              output += `\r\n                <div class=\"card-v2\">\r\n                  <div class=\"poster\">\r\n                    <img\r\n                      src=\"https://image.tmdb.org/t/p/w300/${movie.poster_path}\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"details\">\r\n                    <h2>${movie.name}<br /><span>First Air Date: ${movie.first_air_date}</span></h2>\r\n                    <div class=\"rating\">\r\n                      <i class=\"fas fa-star\"></i>\r\n                      <span>${movie.vote_average} / 10</span>\r\n                    </div>\r\n                    <div class=\"info\">\r\n                      <p>\r\n                        ${descp}\r\n                      </p>\r\n                    </div>\r\n                    <div class=\"more-info\">\r\n                      <a href=\"https://www.themoviedb.org/tv/${movie.id}\" target=\"_blank\" class=\"btn btn-dark\">More Details</a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              `;\r\n            }\r\n          })\r\n          if(movies.length !== 0){\r\n            variables.moviesList.innerHTML = output;\r\n          } else {\r\n            variables.moviesList.innerHTML = `<h2 class=\"no-results\">No results founded</h2>`;\r\n            variables.next.disabled = true;\r\n            variables.next.classList.add('button-disabled');\r\n          }\r\n           variables.pagination.style.visibility = 'visible';\r\n           variables.next.addEventListener('click', () => {\r\n            window.scrollTo(0, 240);\r\n            getMovies(variables.inputSearch.value, ++page);\r\n          });\r\n          previous.addEventListener('click', () => {\r\n            window.scrollTo(0, 240);\r\n            getMovies(variables.inputSearch.value, --page)\r\n          });\r\n        })\r\n    } else {\r\n      document.getElementById('slider-shows-search').style.display = 'block';\r\n      variables.moviesList.innerHTML = null;\r\n      variables.pagination.style.visibility = 'hidden';\r\n    }\r\n  }\r\n})();\r\n"]}