{"version":3,"sources":["js/variables.js","js/showsGenres.js","js/TVShowsSearch.js"],"names":["apiKey","searchForm","document","getElementById","inputSearch","moviesList","previous","next","pagination","trending","trending2","spinner","genres","id","name","fetch","then","data","json","res","topRMovies","results","splice","output","map","movie","genreOutput","filter","genre","genre_ids","join","poster_path","first_air_date","split","variables","innerHTML","children","classList","add","addEventListener","e","preventDefault","getMovies","target","value","previousDisabled","page","length","disabled","remove","style","display","resp","totalPages","nextDisabled","total_pages","console","log","movies","descp","overview","vote_average","visibility","window","scrollTo"],"mappings":"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","file":"TVShowsSearch.9c6faebe.js","sourceRoot":"..\\src","sourcesContent":["export const apiKey = 'ce2eb2231a371296cf6ff11a39206d6e';\r\nexport const searchForm = document.getElementById('searchForm');\r\nexport const inputSearch = document.getElementById('inputSearch');\r\nexport const moviesList = document.getElementById('moviesList');\r\nexport const previous = document.getElementById('previous');\r\nexport const next = document.getElementById('next');\r\nexport const pagination = document.getElementById('pagination-container');\r\nexport const trending = document.getElementById('trending-movies');\r\nexport const trending2 = document.getElementById('trending-shows');\r\nexport const spinner = `\r\n    <div class=\"mb-5 spinner-border text-light\" style=\"width: 3rem; height: 3rem;\" role=\"status\">\r\n      <span class=\"sr-only\">Loading...</span>\r\n    </div>`;","\r\nexport const genres = [\r\n    {\r\n      id: 10759,\r\n      name: \"Action & Adventure\"\r\n    },\r\n    {\r\n      id: 16,\r\n      name: \"Animation\"\r\n    },\r\n    {\r\n      id: 35,\r\n      name: \"Comedy\"\r\n    },\r\n    {\r\n      id: 80,\r\n      name: \"Crime\"\r\n    },\r\n    {\r\n      id: 99,\r\n      name: \"Documentary\"\r\n    },\r\n    {\r\n      id: 18,\r\n      name: \"Drama\"\r\n    },\r\n    {\r\n      id: 10751,\r\n      name: \"Family\"\r\n    },\r\n    {\r\n      id: 10762,\r\n      name: \"Kids\"\r\n    },\r\n    {\r\n      id: 9648,\r\n      name: \"Mystery\"\r\n    },\r\n    {\r\n      id: 10763,\r\n      name: \"News\"\r\n    },\r\n    {\r\n      id: 10764,\r\n      name: \"Reality\"\r\n    },\r\n    {\r\n      id: 10765,\r\n      name: \"Sci-Fi & Fantasy\"\r\n    },\r\n    {\r\n      id: 10766,\r\n      name: \"Soap\"\r\n    },\r\n    {\r\n      id: 10767,\r\n      name: \"Talk\"\r\n    },\r\n    {\r\n      id: 10768,\r\n      name: \"War & Politics\"\r\n    },\r\n    {\r\n      id: 37,\r\n      name: \"Western\"\r\n    }\r\n  ]\r\n","import * as variables from './variables.js';\r\nimport { genres } from './showsGenres.js';\r\n\r\n(() => {\r\n\r\n  fetch('https://api.themoviedb.org/3/trending/tv/week?api_key=ce2eb2231a371296cf6ff11a39206d6e')\r\n    .then(data => data.json())\r\n    .then(res => {\r\n      let topRMovies = res.results.splice(0, 8);\r\n      let output = '';\r\n      let genresArray = '';\r\n      topRMovies.map(movie => {\r\n        genresArray = genres.filter(genre => {\r\n          if(genre.id === movie.genre_ids[0] || genre.id === movie.genre_ids[1]){\r\n            return genre.id;\r\n          }\r\n        })\r\n        let genreOutput = genresArray.map(genre => genre.name).join(\", \");\r\n        output +=\r\n          `\r\n          <div class=\"mr-3 card\" style=\"width: 15rem; padding-bottom: 0;\">\r\n              <img class=\"card-img-top card-img\" src=\"https://image.tmdb.org/t/p/w500${movie.poster_path}\" alt=\"Card image cap\">\r\n              <div class=\"card-body\">\r\n                <h5 class=\"card-title card-movie-title\">${movie.name}</h5>\r\n                <p class=\"card-text card-details\">${movie.first_air_date.split(\"-\")[0]} | ${genreOutput}</p>\r\n              </div>\r\n          </div>\r\n          `\r\n      })\r\n      variables.trending2.innerHTML = output;\r\n      variables.trending2.children[0].classList.add(\"ml-5\");\r\n    })\r\n\r\n  variables.inputSearch.addEventListener('input', (e) => {\r\n    e.preventDefault();\r\n    getMovies(e.target.value, 1);\r\n  });\r\n\r\n  const previousDisabled = page => {\r\n    if(page == 1){\r\n      variables.previous.disabled = true;\r\n      variables.previous.classList.add('button-disabled');\r\n    } else {\r\n      variables.previous.disabled = false;\r\n      variables.previous.classList.remove('button-disabled');\r\n    }\r\n  }\r\n\r\n  const nextDisabled = (page, totalPages) => {\r\n    if(page === totalPages){\r\n      variables.next.disabled = true;\r\n      variables.next.classList.add('button-disabled');\r\n    } else {\r\n      variables.next.disabled = false;\r\n      variables.next.classList.remove('button-disabled');\r\n    }\r\n  }\r\n\r\n  const getMovies = (movie, page) => {\r\n    if(variables.inputSearch.value.length > 0){\r\n      variables.moviesList.innerHTML = variables.spinner;\r\n    }\r\n    previousDisabled(page);\r\n    if(movie.length > 0) {\r\n    variables.trending2.style.display = 'none';\r\n    document.getElementById('trending-title').style.display = 'none';\r\n       fetch(\r\n        `https://api.themoviedb.org/3/search/tv?api_key=${variables.apiKey}&query=${movie}&page=${page}`\r\n      )\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n          nextDisabled(page, data.total_pages);\r\n          console.log(data);\r\n          let output = '';\r\n          let movies = data.results;\r\n          movies.map(movie => {\r\n            let descp;\r\n            if(movie.overview.length > 260){\r\n              descp = movie.overview.split(\" \").splice(0, 30).join(\" \") + '...';\r\n            } else if (movie.overview == \"\") {\r\n              descp = \"No description\";\r\n            } else {\r\n              descp = movie.overview;\r\n            }\r\n            if(movie.poster_path !== null) {\r\n              output += `\r\n                <div class=\"card-v2\">\r\n                  <div class=\"poster\">\r\n                    <img\r\n                      src=\"https://image.tmdb.org/t/p/w300/${movie.poster_path}\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"details\">\r\n                    <h2>${movie.name}<br /><span>First Air Date: ${movie.first_air_date}</span></h2>\r\n                    <div class=\"rating\">\r\n                      <i class=\"fas fa-star\"></i>\r\n                      <span>${movie.vote_average} / 10</span>\r\n                    </div>\r\n                    <div class=\"info\">\r\n                      <p>\r\n                        ${descp}\r\n                      </p>\r\n                    </div>\r\n                    <div class=\"more-info\">\r\n                      <a href=\"https://www.themoviedb.org/tv/${movie.id}\" target=\"_blank\" class=\"btn btn-dark\">More Details</a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              `;\r\n            }\r\n          })\r\n          if(movies.length !== 0){\r\n            variables.moviesList.innerHTML = output;\r\n          } else {\r\n            variables.moviesList.innerHTML = `<h2 class=\"no-results\">No results founded</h2>`;\r\n            variables.next.disabled = true;\r\n            variables.next.classList.add('button-disabled');\r\n          }\r\n           variables.pagination.style.visibility = 'visible';\r\n           variables.next.addEventListener('click', () => {\r\n            window.scrollTo(0, 240);\r\n            getMovies(variables.inputSearch.value, ++page);\r\n          });\r\n          previous.addEventListener('click', () => {\r\n            window.scrollTo(0, 240);\r\n            getMovies(variables.inputSearch.value, --page)\r\n          });\r\n        })\r\n    } else {\r\n      variables.trending2.style.display = 'flex';\r\n      document.getElementById('trending-title').style.display = 'block';\r\n      variables.moviesList.innerHTML = null;\r\n      variables.pagination.style.visibility = 'hidden';\r\n    }\r\n  }\r\n})();\r\n"]}