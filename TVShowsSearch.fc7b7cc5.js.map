{"version":3,"sources":["js/variables.js","js/genres.js","js/TVShowsSearch.js"],"names":["apiKey","searchForm","document","getElementById","inputSearch","moviesList","previous","next","pagination","trending","trending2","spinner","genres","id","name","fetch","then","data","json","res","topRMovies","results","splice","output","genresArray","map","movie","filter","genre","genre_ids","genreOutput","join","poster_path","first_air_date","split","variables","innerHTML","children","classList","add","addEventListener","e","preventDefault","getMovies","target","value","previousDisabled","page","disabled","remove","nextDisabled","totalPages","length","style","display","resp","total_pages","console","log","movies","descp","overview","vote_average","visibility","window","scrollTo"],"mappings":";;AEAA;;AACA;;ADAQ,ADDD,ICCOY,ADDDZ,MCCO,ADDD,GCCI,ADDD,CCElB,iCDFG;ACGDa,EAAAA,EAAE,EAAE,EADN;AAEEC,ADHC,ECGDA,EDHOb,ECGH,EAAE,MDHW,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAnB;ACCH,CADmB,EAKnB;ACHJ,ADIMU,ADLC,CECN,CDIKA,EAAE,ADLKT,ECKH,EADN,KCHG,EFDiB,GAAGF,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAApB;AEGLY,ADGID,ECHJC,ADGID,IAAI,CCHH,CAAC,ADGI,wFCHL,CAAL,CACGE,IADH,CACQ,UAAAC,IAAI;AAAA,ADAV,ADHG,CCFgB,EASnB,CDPSZ,OEGKY,GFHK,CEGD,CAACC,CFHGhB,GEGR,EAAJ,GFHoB,CAACC,cAAT,CAAwB,YAAxB,CAAnB;AEGO,ADKRU,EAAAA,CCNJ,CDMM,CCJHG,CDIK,EADN,CCLF,CAEQ,UAAAG,GAAG,EAAI;AACX,ADIAL,ADRC,ECQDA,EDROR,ECQH,ECJAc,ADIE,IDRS,GAAGlB,GEIJ,GAAGiB,EFJS,CEIN,AFJOhB,CEINkB,OAAJ,CAAYC,KFJX,CEID,AFJyB,CEIN,CAAnB,EAAsB,CAAtB,CAAjB,IFJkB,CAAjB;AEKD,ADCF,CATmB,EAanB,KCLMC,MAAM,GAAG,EAAb;AACA,ADKAV,ADVC,ECUDA,EAAE,ADVKN,ECUH,ECLAiB,ADIN,ADTa,GAAGtB,QEKC,AFLO,CAACC,EEKL,EAAlB,UFLc,CAAwB,MAAxB,CAAb;AEMDiB,ADKAN,EAAAA,ECLAM,EDKI,EAAE,MCLI,CAACK,GAAX,CAAe,UAAAC,KAAK,EAAI;AACtBF,ADEJ,ADRG,CCLgB,EAiBnB,CDZShB,EEMLgB,QFNe,GEMJ,AFNOtB,GEMJU,KFNY,CAACT,SEMNwB,KFNH,CEMJ,AFN4B,CEMd,UAAAC,KAAK,EAAI,IFNnB,CAAnB;AEOG,ADMJf,EAAAA,EAAE,EAAE,EADN,ICLSe,KAAK,CAACf,EAAN,KAAaa,KAAK,CAACG,SAAN,CAAgB,CAAhB,CAAb,IAAmCD,KAAK,CAACf,EAAN,KAAaa,KAAK,CAACG,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","file":"TVShowsSearch.fc7b7cc5.js","sourceRoot":"..\\src","sourcesContent":["export const apiKey = 'ce2eb2231a371296cf6ff11a39206d6e';\r\nexport const searchForm = document.getElementById('searchForm');\r\nexport const inputSearch = document.getElementById('inputSearch');\r\nexport const moviesList = document.getElementById('moviesList');\r\nexport const previous = document.getElementById('previous');\r\nexport const next = document.getElementById('next');\r\nexport const pagination = document.getElementById('pagination-container');\r\nexport const trending = document.getElementById('trending-movies');\r\nexport const trending2 = document.getElementById('trending-shows');\r\nexport const spinner = `\r\n    <div class=\"mb-5 spinner-border text-light\" style=\"width: 3rem; height: 3rem;\" role=\"status\">\r\n      <span class=\"sr-only\">Loading...</span>\r\n    </div>`;","\r\n export const genres = [\r\n    {\r\n      id: 28,\r\n      name: \"Action\"\r\n    },\r\n    {\r\n      id: 12,\r\n      name: \"Adventure\"\r\n    },\r\n    {\r\n      id: 16,\r\n      name: \"Animation\"\r\n    },\r\n    {\r\n      id: 35,\r\n      name: \"Comedy\"\r\n    },\r\n    {\r\n      id: 80,\r\n      name: \"Crime\"\r\n    },\r\n    {\r\n      id: 99,\r\n      name: \"Documentary\"\r\n    },\r\n    {\r\n      id: 18,\r\n      name: \"Drama\"\r\n    },\r\n    {\r\n      id: 10751,\r\n      name: \"Family\"\r\n    },\r\n    {\r\n      id: 14,\r\n      name: \"Fantasy\"\r\n    },\r\n    {\r\n      id: 36,\r\n      name: \"History\"\r\n    },\r\n    {\r\n      id: 27,\r\n      name: \"Horror\"\r\n    },\r\n    {\r\n      id: 10402,\r\n      name: \"Music\"\r\n    },\r\n    {\r\n      id: 9648,\r\n      name: \"Mystery\"\r\n    },\r\n    {\r\n      id: 10749,\r\n      name: \"Romance\"\r\n    },\r\n    {\r\n      id: 878,\r\n      name: \"Science Fiction\"\r\n    },\r\n    {\r\n      id: 10770,\r\n      name: \"TV Movie\"\r\n    },\r\n    {\r\n      id: 53,\r\n      name: \"Thriller\"\r\n    },\r\n    {\r\n      id: 10752,\r\n      name: \"War\"\r\n    },\r\n    {\r\n      id: 37,\r\n      name: \"Western\"\r\n    }\r\n  ]\r\n","import * as variables from './variables.js';\r\nimport { genres } from './genres.js';\r\n\r\n(() => {\r\n\r\n  fetch('https://api.themoviedb.org/3/trending/tv/week?api_key=ce2eb2231a371296cf6ff11a39206d6e')\r\n    .then(data => data.json())\r\n    .then(res => {\r\n      let topRMovies = res.results.splice(0, 8);\r\n      let output = '';\r\n      let genresArray = '';\r\n      topRMovies.map(movie => {\r\n        genresArray = genres.filter(genre => {\r\n          if(genre.id === movie.genre_ids[0] || genre.id === movie.genre_ids[1]){\r\n            return genre.id;\r\n          }\r\n        })\r\n        let genreOutput = genresArray.map(genre => genre.name).join(\", \");\r\n        output +=\r\n          `\r\n          <div class=\"mr-3 card\" style=\"width: 15rem; padding-bottom: 0;\">\r\n              <img class=\"card-img-top card-img\" src=\"https://image.tmdb.org/t/p/w500${movie.poster_path}\" alt=\"Card image cap\">\r\n              <div class=\"card-body\">\r\n                <h5 class=\"card-title card-movie-title\">${movie.name}</h5>\r\n                <p class=\"card-text card-details\">${movie.first_air_date.split(\"-\")[0]} | ${genreOutput}</p>\r\n              </div>\r\n          </div>\r\n          `\r\n      })\r\n      variables.trending2.innerHTML = output;\r\n      variables.trending2.children[0].classList.add(\"ml-5\");\r\n    })\r\n\r\n  variables.inputSearch.addEventListener('input', (e) => {\r\n    e.preventDefault();\r\n    getMovies(e.target.value, 1);\r\n  });\r\n\r\n  const previousDisabled = page => {\r\n    if(page == 1){\r\n      variables.previous.disabled = true;\r\n      variables.previous.classList.add('button-disabled');\r\n    } else {\r\n      variables.previous.disabled = false;\r\n      variables.previous.classList.remove('button-disabled');\r\n    }\r\n  }\r\n\r\n  const nextDisabled = (page, totalPages) => {\r\n    if(page === totalPages){\r\n      variables.next.disabled = true;\r\n      variables.next.classList.add('button-disabled');\r\n    } else {\r\n      variables.next.disabled = false;\r\n      variables.next.classList.remove('button-disabled');\r\n    }\r\n  }\r\n\r\n  const getMovies = (movie, page) => {\r\n    if(variables.inputSearch.value.length > 0){\r\n      variables.moviesList.innerHTML = variables.spinner;\r\n    }\r\n    previousDisabled(page);\r\n    if(movie.length > 0) {\r\n    variables.trending2.style.display = 'none';\r\n    document.getElementById('trending-title').style.display = 'none';\r\n       fetch(\r\n        `https://api.themoviedb.org/3/search/tv?api_key=${variables.apiKey}&query=${movie}&page=${page}`\r\n      )\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n          nextDisabled(page, data.total_pages);\r\n          console.log(data);\r\n          let output = '';\r\n          let movies = data.results;\r\n          movies.map(movie => {\r\n            let descp;\r\n            if(movie.overview.length > 260){\r\n              descp = movie.overview.split(\" \").splice(0, 30).join(\" \") + '...';\r\n            } else if (movie.overview == \"\") {\r\n              descp = \"No description\";\r\n            } else {\r\n              descp = movie.overview;\r\n            }\r\n            if(movie.poster_path !== null) {\r\n              output += `\r\n                <div class=\"card-v2\">\r\n                  <div class=\"poster\">\r\n                    <img\r\n                      src=\"https://image.tmdb.org/t/p/w300/${movie.poster_path}\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"details\">\r\n                    <h2>${movie.name}<br /><span>First Air Date: ${movie.first_air_date}</span></h2>\r\n                    <div class=\"rating\">\r\n                      <i class=\"fas fa-star\"></i>\r\n                      <span>${movie.vote_average} / 10</span>\r\n                    </div>\r\n                    <div class=\"info\">\r\n                      <p>\r\n                        ${descp}\r\n                      </p>\r\n                    </div>\r\n                    <div class=\"more-info\">\r\n                      <a href=\"https://www.themoviedb.org/tv/${movie.id}\" target=\"_blank\" class=\"btn btn-dark\">More Details</a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              `;\r\n            }\r\n          })\r\n          if(movies.length !== 0){\r\n            variables.moviesList.innerHTML = output;\r\n          } else {\r\n            variables.moviesList.innerHTML = `<h2 class=\"no-results\">No results founded</h2>`;\r\n            variables.next.disabled = true;\r\n            variables.next.classList.add('button-disabled');\r\n          }\r\n           variables.pagination.style.visibility = 'visible';\r\n           variables.next.addEventListener('click', () => {\r\n            window.scrollTo(0, 240);\r\n            getMovies(variables.inputSearch.value, ++page);\r\n          });\r\n          previous.addEventListener('click', () => {\r\n            window.scrollTo(0, 240);\r\n            getMovies(variables.inputSearch.value, --page)\r\n          });\r\n        })\r\n    } else {\r\n      variables.trending2.style.display = 'flex';\r\n      document.getElementById('trending-title').style.display = 'block';\r\n      variables.moviesList.innerHTML = null;\r\n      variables.pagination.style.visibility = 'hidden';\r\n    }\r\n  }\r\n})();\r\n"]}