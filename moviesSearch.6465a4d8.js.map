{"version":3,"sources":["js/variables.js","js/genres.js","js/moviesSearch.js"],"names":["apiKey","searchForm","document","getElementById","inputSearch","moviesList","previous","next","pagination","trending","trending2","spinner","genres","id","name","fetch","then","data","json","res","topRMovies","results","splice","output","genresArray","map","movie","filter","genre","genre_ids","genreOutput","join","poster_path","title","release_date","split","variables","innerHTML","children","classList","add","addEventListener","e","preventDefault","getMovies","target","value","previousDisabled","page","disabled","remove","nextDisabled","totalPages","length","style","display","resp","total_pages","console","log","movies","descp","overview","backdrop_path","vote_average","visibility","window","scrollTo"],"mappings":";;AEAA;;AACA;;ADAQ,ADDD,ICCOY,ADDDZ,MCCO,ADDD,GCCI,ADDD,CCElB,iCDFG;ACGDa,EAAAA,EAAE,EAAE,EADN;AAEEC,ADHC,ECGDA,EDHOb,ECGH,EAAE,MDHW,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAnB;ACCH,CADmB,EAKnB;AACEU,ACJN,AFDO,CECN,CDIKA,EAAE,ADLKT,ECKH,EADN,KCHG,EFDiB,GAAGF,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAApB;ACMDW,ACHJC,EDGID,ACHJC,IDGQ,CCHH,CDGK,ACHJ,2FAAD,CAAL,CACGC,IADH,CACQ,UAAAC,IAAI;ADAV,ACAU,AFHP,CCFgB,EASnB,CDPSZ,OEGKY,GFHK,CEGD,CAACC,CFHGhB,GEGR,EAAJ,GFHoB,CAACC,cAAT,CAAwB,YAAxB,CAAnB;ACQDU,ACLQ,EDKRA,CCNJ,CDMM,CCJHG,CDIK,EADN,CCLF,CAEQ,UAAAG,GAAG,EAAI;ADKXL,ACJA,AFJC,ECQDA,EDROR,ECQH,EAAE,ACJFc,IFJW,GAAGlB,GEIJ,GAAGiB,EFJS,CEIN,AFJOhB,CEINkB,OAAJ,CAAYC,KFJX,CEID,AFJyB,CEIN,CAAnB,EAAsB,CAAtB,CAAjB,IFJkB,CAAjB;ACMH,ACDE,CDRiB,EAanB,KCLMC,MAAM,GAAG,EAAb;ADMAV,ACLA,AFLC,ECUDA,EAAE,ADVKN,ECUH,EADN,ACJMiB,AFLO,GAAGtB,QEKC,AFLO,CAACC,EEKL,EAAlB,UFLc,CAAwB,MAAxB,CAAb;ACWDW,ACLAM,EDKAN,ECLAM,EDKI,EAAE,MCLI,CAACK,GAAX,CAAe,UAAAC,KAAK,EAAI;ADG1B,ACFIF,AFND,CCLgB,EAiBnB,CDZShB,EEMLgB,QFNe,GEMJ,AFNOtB,GEMJU,KFNY,CAACT,SEMNwB,KFNH,CEMJ,AFN4B,CEMd,UAAAC,KAAK,EAAI,IFNnB,CAAnB;ACaDf,ACNI,EDMJA,EAAE,EAAE,EADN,ICLSe,KAAK,CAACf,EAAN,KAAaa,KAAK,CAACG,SAAN,CAAgB,CAAhB,CAAb,IAAmCD,KAAK,CAACf,EAAN,KAAaa,KAAK,CAACG,S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","file":"moviesSearch.6465a4d8.js","sourceRoot":"..","sourcesContent":["export const apiKey = 'ce2eb2231a371296cf6ff11a39206d6e';\r\nexport const searchForm = document.getElementById('searchForm');\r\nexport const inputSearch = document.getElementById('inputSearch');\r\nexport const moviesList = document.getElementById('moviesList');\r\nexport const previous = document.getElementById('previous');\r\nexport const next = document.getElementById('next');\r\nexport const pagination = document.getElementById('pagination-container');\r\nexport const trending = document.getElementById('trending-movies');\r\nexport const trending2 = document.getElementById('trending-shows');\r\nexport const spinner = `\r\n    <div class=\"mb-5 spinner-border text-light\" style=\"width: 3rem; height: 3rem;\" role=\"status\">\r\n      <span class=\"sr-only\">Loading...</span>\r\n    </div>`;","\r\n export const genres = [\r\n    {\r\n      id: 28,\r\n      name: \"Action\"\r\n    },\r\n    {\r\n      id: 12,\r\n      name: \"Adventure\"\r\n    },\r\n    {\r\n      id: 16,\r\n      name: \"Animation\"\r\n    },\r\n    {\r\n      id: 35,\r\n      name: \"Comedy\"\r\n    },\r\n    {\r\n      id: 80,\r\n      name: \"Crime\"\r\n    },\r\n    {\r\n      id: 99,\r\n      name: \"Documentary\"\r\n    },\r\n    {\r\n      id: 18,\r\n      name: \"Drama\"\r\n    },\r\n    {\r\n      id: 10751,\r\n      name: \"Family\"\r\n    },\r\n    {\r\n      id: 14,\r\n      name: \"Fantasy\"\r\n    },\r\n    {\r\n      id: 36,\r\n      name: \"History\"\r\n    },\r\n    {\r\n      id: 27,\r\n      name: \"Horror\"\r\n    },\r\n    {\r\n      id: 10402,\r\n      name: \"Music\"\r\n    },\r\n    {\r\n      id: 9648,\r\n      name: \"Mystery\"\r\n    },\r\n    {\r\n      id: 10749,\r\n      name: \"Romance\"\r\n    },\r\n    {\r\n      id: 878,\r\n      name: \"Science Fiction\"\r\n    },\r\n    {\r\n      id: 10770,\r\n      name: \"TV Movie\"\r\n    },\r\n    {\r\n      id: 53,\r\n      name: \"Thriller\"\r\n    },\r\n    {\r\n      id: 10752,\r\n      name: \"War\"\r\n    },\r\n    {\r\n      id: 37,\r\n      name: \"Western\"\r\n    }\r\n  ]\r\n","import * as variables from './variables.js';\r\nimport { genres } from './genres.js';\r\n\r\n(() => {\r\n\r\n  fetch('https://api.themoviedb.org/3/trending/movie/week?api_key=ce2eb2231a371296cf6ff11a39206d6e')\r\n    .then(data => data.json())\r\n    .then(res => {\r\n      let topRMovies = res.results.splice(0, 8);\r\n      let output = '';\r\n      let genresArray = '';\r\n      topRMovies.map(movie => {\r\n        genresArray = genres.filter(genre => {\r\n          if(genre.id === movie.genre_ids[0] || genre.id === movie.genre_ids[1]){\r\n            return genre.id;\r\n          }\r\n        })\r\n        let genreOutput = genresArray.map(genre => genre.name).join(\", \");\r\n        output +=\r\n          `\r\n          <div class=\"mr-3 card\" style=\"width: 15rem; padding-bottom: 0;\">\r\n              <img class=\"card-img-top card-img\" src=\"https://image.tmdb.org/t/p/w500${movie.poster_path}\" alt=\"Card image cap\">\r\n              <div class=\"card-body\">\r\n                <h5 class=\"card-title card-movie-title\">${movie.title}</h5>\r\n                <p class=\"card-text card-details\">${movie.release_date.split(\"-\")[0]} | ${genreOutput}</p>\r\n              </div>\r\n          </div>\r\n          `\r\n      })\r\n      variables.trending.innerHTML = output;\r\n      variables.trending.children[0].classList.add(\"ml-5\");\r\n    })\r\n\r\n  variables.inputSearch.addEventListener('input', (e) => {\r\n    e.preventDefault();\r\n    getMovies(e.target.value, 1);\r\n  });\r\n\r\n  const previousDisabled = page => {\r\n    if(page == 1){\r\n      variables.previous.disabled = true;\r\n      variables.previous.classList.add('button-disabled');\r\n    } else {\r\n      variables.previous.disabled = false;\r\n      variables.previous.classList.remove('button-disabled');\r\n    }\r\n  }\r\n\r\n  const nextDisabled = (page, totalPages) => {\r\n    if(page === totalPages){\r\n      variables.next.disabled = true;\r\n      variables.next.classList.add('button-disabled');\r\n    } else {\r\n      variables.next.disabled = false;\r\n      variables.next.classList.remove('button-disabled');\r\n    }\r\n  }\r\n\r\n  const getMovies = (movie, page) => {\r\n    if(variables.inputSearch.value.length > 0){\r\n      variables.moviesList.innerHTML = variables.spinner;\r\n    }\r\n    previousDisabled(page);\r\n    if(movie.length > 0) {\r\n    variables.trending.style.display = 'none';\r\n    document.getElementById('trending-title').style.display = 'none';\r\n       fetch(\r\n        `https://api.themoviedb.org/3/search/movie?api_key=${variables.apiKey}&query=${movie}&page=${page}`\r\n      )\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n          nextDisabled(page, data.total_pages);\r\n          console.log(data);\r\n          let output = '';\r\n          let movies = data.results;\r\n          movies.map(movie => {\r\n            let descp;\r\n            if (movie.overview.length > 260) {\r\n              descp = movie.overview.split(\" \").splice(0, 30).join(\" \") + '...';\r\n            } else if (movie.overview == \"\") {\r\n              descp = \"No description\";\r\n            } else {\r\n              descp = movie.overview;\r\n            }\r\n            if(movie.poster_path !== null && movie.backdrop_path !== null) {\r\n            output += `\r\n              <div class=\"card-v2\">\r\n                <div class=\"poster\">\r\n                  <img\r\n                    src=\"https://image.tmdb.org/t/p/w300${movie.poster_path}\"\r\n                  />\r\n                </div>\r\n                <div class=\"details\">\r\n                  <h2>${movie.title}<br /><span>Relased in: ${movie.release_date}</span></h2>\r\n                  <div class=\"rating\">\r\n                    <i class=\"fas fa-star\"></i>\r\n                    <span>${movie.vote_average} / 10</span>\r\n                  </div>\r\n                  <div class=\"info\">\r\n                    <p>\r\n                      ${descp}\r\n                    </p>\r\n                  </div>\r\n                  <div class=\"more-info\">\r\n                    <a href=\"https://www.themoviedb.org/movie/${movie.id}\" target=\"_blank\" class=\"btn btn-dark\">More Details</a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            `;\r\n            }\r\n          })\r\n          if(movies.length !== 0){\r\n            variables.moviesList.innerHTML = output;\r\n          } else {\r\n            variables.moviesList.innerHTML = `<h2 class=\"no-results\">No results founded</h2>`;\r\n            variables.next.disabled = true;\r\n            variables.next.classList.add('button-disabled');\r\n          }\r\n           variables.pagination.style.visibility = 'visible';\r\n           variables.next.addEventListener('click', () => {\r\n            window.scrollTo(0, 240);\r\n            getMovies(variables.inputSearch.value, ++page);\r\n          });\r\n          previous.addEventListener('click', () => {\r\n            window.scrollTo(0, 240);\r\n            getMovies(variables.inputSearch.value, --page)\r\n          });\r\n        })\r\n    } else {\r\n      variables.trending.style.display = 'flex';\r\n      document.getElementById('trending-title').style.display = 'block';\r\n      variables.moviesList.innerHTML = null;\r\n      variables.pagination.style.visibility = 'hidden';\r\n    }\r\n  }\r\n})();\r\n"]}